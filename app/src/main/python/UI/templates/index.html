{% extends "base.html" %}
{%block head%}
    {{ super() }}
    {% block title %} Home {% endblock %} 

{% endblock %}

{% block main %}
    <h1>Statistical Analysis </h1>
    <hr>
    <p>This application allows users to upload experimental data and perform statistical analysis on it.
        You will chose which tests you would like to run and a report will be generated with the 
        results of these tests
    </p>

    <div id="home">
        <h2> Data Upload </h2>
        
        <form id = "upload_form" action = "{{ url_for('upload') }}" method= "POST" enctype= "multipart/form-data">
            <p>Please upload your data here.  This should be in a csv file. </p>

            <input type="file" name ="experimental_data", accept=".csv"/>
            <br></br>
            <input class="btn btn-outline-info" type="submit" value = "Upload"/>
            <input class="btn btn-outline-danger" type="reset"/>
            
        </form>

        <div id = "messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class=flashes>
                    {% for category, message in messages %}
                        <div class = "alert alert-primary" role = "alert">
                            <li class="{{ category }}">{{ message }}</li>
                        </div>
                    {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
        </div>

        <h2> Experimental Design </h2>

        <form name = "variables" id="exp_design_form" action = "{{ url_for('create_report') }}" method = "POST">
            <p>Please input the following details of your experiment: dependent and independent variable and the significance level</p>
            <label for="significance"> Significance Level: p <  </label>
            <input id="significance" name = "significance" type="number" value="0.05" min="0.001" max="1.0" step="0.001">
            <br>
            <label for= "iv"> Independent Variable: <label>
            <input type="text" name="iv"/>
            
            <label for="dv">Dependent Variable: <label>
            <input type="text" name="dv"/>

            <input class="btn btn-outline-info" type="submit" value = "Upload"/>

        </form>

    </div>
    
{% endblock %}